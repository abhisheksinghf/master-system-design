---
title: Data Security
sidebar_label: "8.2 Data Security"
description: Understanding encryption at rest, encryption in transit, and secrets management in system design
---

# Data Security

> Goal: Understand how to protect sensitive data using encryption at rest, encryption in transit, and secure secrets management.

---

## 8.2.1 Why Data Security Matters ⭐⭐⭐⭐⭐

In modern systems, we store:

- User credentials
- Payment information
- Personal data (PII)
- Business secrets

If compromised:
- Legal consequences
- Financial loss
- Reputation damage

> Security must be built into the architecture, not added later.

---

# 8.2.2 Encryption in Transit (Recap) ⭐⭐⭐⭐

Data is encrypted while traveling across the network.

Used for:
- Client → Server
- Service → Service
- Service → Database

Technology:
- HTTPS
- TLS
- mTLS

Goal:
Prevent eavesdropping and tampering.

---

# 8.2.3 Encryption at Rest ⭐⭐⭐⭐⭐

Data encrypted while stored on disk.

Examples:
- Database files
- Backup files
- Object storage
- Disk volumes

---

## Why Encryption at Rest Is Important

If:
- Disk stolen
- Backup leaked
- Cloud storage exposed

Encrypted data remains unreadable without key.

---

## How Encryption at Rest Works

- Data encrypted before storage
- Key required to decrypt
- Often handled by storage system or database

Example:
- Encrypted database volumes
- Cloud-managed encryption keys

---

# 8.2.4 Hashing vs Encryption ⭐⭐⭐⭐⭐

Important distinction.

---

## Encryption

- Reversible
- Requires key
- Used for data that must be read later

Example:
- Credit card number
- Sensitive documents

---

## Hashing

- One-way function
- Cannot be reversed
- Used for passwords

Example:
```

password → hash → stored

```

When user logs in:
- Hash input
- Compare hashes

> Passwords should NEVER be stored in plain text.

---

# 8.2.5 Salting (For Password Security) ⭐⭐⭐⭐

Salt:

- Random value added before hashing
- Prevents rainbow table attacks

Example:
```

hash(password + salt)

```

Ensures:
Even identical passwords produce different hashes.

---

# 8.2.6 Secrets Management ⭐⭐⭐⭐⭐

Secrets include:

- Database passwords
- API keys
- JWT signing keys
- Encryption keys

Never:
- Hardcode secrets in code
- Store in Git repository

---

## Secure Secret Storage

Use:

- Environment variables
- Secret management systems
- Key management services (KMS)
- Vault systems

Rotate secrets regularly.

---

# 8.2.7 Key Management ⭐⭐⭐⭐

Encryption is only as strong as key protection.

Best practices:

- Store keys separately from data
- Rotate keys periodically
- Restrict access using IAM policies

If key leaked → encryption useless.

---

# 8.2.8 Principle of Least Privilege ⭐⭐⭐⭐

Each service should:

- Only access data it needs
- Have minimal permissions

Example:
- Email service should not access payment database.

---

# 8.2.9 Data Security in Payment System ⭐⭐⭐⭐⭐

Critical:

- Encrypt card data
- Hash passwords with salt
- Use secure key management
- Rotate API keys
- Audit access logs

Never:
- Log sensitive data
- Expose secrets in frontend
- Store raw payment details

---

# 8.2.10 Common Interview Mistakes ❌

❌ Confusing hashing and encryption  
❌ Storing passwords encrypted instead of hashed  
❌ Hardcoding secrets  
❌ Ignoring key rotation  

✅ Correct thinking:
- Hash passwords
- Encrypt sensitive stored data
- Manage keys securely
- Apply least privilege

---

# Key Takeaways ⭐⭐⭐⭐⭐

- Encrypt data in transit and at rest
- Hash passwords with salt
- Manage secrets securely
- Protect encryption keys
- Apply least privilege principle

---

# Interview-Ready One-Liners ⭐

- “Passwords should be hashed, not encrypted.”
- “Encryption is only as strong as key management.”
- “Never hardcode secrets.”
- “Apply least privilege access.”